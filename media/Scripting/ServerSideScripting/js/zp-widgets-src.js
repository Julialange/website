/*
 * $Id: zp-widgets-src.js 26401 2014-04-30 08:32:24Z sseiz $
 * Copyright Zeta Software GmbH
 */
jQuery.support.placeholder=(function(){var a=document.createElement("input");return"placeholder" in a})();function trace(b){try{console.log(b)}catch(a){alert(b)}}function is_touch_device(){return !!("ontouchstart" in window)}function slideSwitch(d,c){c=typeof c!=="undefined"?c:"next";var a=$(d+" div.slide.active");if(a.length===0){a=$(d+" div.slide:first")}var b;if(c==="next"){b=a.next(".slide").length?a.next(".slide"):$(d+" div.slide:first")}else{if(c==="prev"){b=a.prev(".slide").length?a.prev(".slide"):$(d+" div.slide:last")}}a.addClass("last-active").css({"z-index":101});b.css({opacity:"0.0"}).addClass("active").css({"z-index":102}).animate({opacity:"1.0"},500,function(){a.removeClass("active last-active").css({"z-index":"100",opacity:"0"})})}if(!Date.now){Date.now=function(){return new Date().valueOf()}}if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)){var viewportmeta=$("meta[name=viewport]");if(viewportmeta){if(window.orientation!==0&&window.orientation!==180){viewportmeta.attr("content","width=device-height, initial-scale=1.0")}document.addEventListener("orientationchange",function(){if(window.orientation!==0&&window.orientation!==180){viewportmeta.attr("content","width=device-height, initial-scale=1.0")}else{viewportmeta.attr("content","width=device-width, initial-scale=1.0")}},false)}}$(window).load(function(){$("body").addClass("loaded")});$(document).ready(function(){$("html").removeClass("no-js");$("body").addClass("js");if($.browser.msie){$("html").removeClass("notie");$("html").addClass("ie");$("html").addClass("ie"+parseInt($.browser.version,10))}$("#formular input.asfield").css("display","none");if($.support.placeholder){$("#formular input:text").each(function(){if($(this).attr("placeholder")!==""&&$(this).attr("placeholder")!==undefined){$("#formular label[for='"+$(this).attr("id")+"']").css({height:"0px",overflow:"hidden",opacity:"0"})}});$("#formular textarea").each(function(){if($(this).attr("placeholder")!==""&&$(this).attr("placeholder")!==undefined){$("#formular label[for='"+$(this).attr("id")+"']").css({height:"0px",overflow:"hidden",opacity:"0"})}})}$("#recaptcha_table").css({border:"1px solid #dfdfdf !important","background-color":"#ffffff"});$("#recaptcha_table").attr("title","Um sicherzustellen, dass dieser Formularservice nicht missbräuchlich verwendet wird, geben Sie bitte die 2 Wörter im Feld unten ein.");if(is_touch_device()){$("body").addClass("touch");$(".touchhovermenu li:has(li) > a").each(function(){var b;var a=function(d){b=c;if($(d).parents("div.nav-collapse.in").length>0){return true}$(d).parent().children("ul").css({display:"block",visibility:"visible"});return false};var c=function(){b=a;return true};b=a;$(this).click(function(){return b($(this))})})}$(".zpteasertext").toggle();$(".zphidelink").toggle();$(".zpteaserlink").click(function(){$(this).toggle();$(this).next(".zpteasertext").slideDown("fast");$(this).nextAll(".zphidelink").toggle();return false});$(".zphidelink").click(function(){$(this).toggle();$(this).prevAll(".zpteasertext").slideUp("fast");$(this).prevAll(".zpteaserlink").toggle();return false});$(".marquee").each(function(){try{new zp.Scroller().init("#"+this.id.toString())}catch(a){}});$(".eventCalendar").each(function(){new zp.EventCalendar().init("#"+this.id.toString())});$(".zpImageGallery").each(function(){new zp.ImageGallery().init("#"+this.id.toString())});$(".zpSlideshow").each(function(){new zp.Slideshow().init("#"+this.id.toString())});$(".zpWeatherWidget").each(function(){new zp.Weather().init("#"+this.id.toString())})});var zp={Scroller:function(){this.$el=null;this.$wrap=null;this.$spacer=null;this._interval=null;this._speed=1;this._delay=0;this._fadeoutafter=null;var a=this;this.init=function(b){a.$el=$(b);a.$wrap=a.$el.find(".marquee-wrapper");a.$el.css({padding:"4px 0","line-height":"1","float":"none",clear:"both","white-space":"nowrap",overflow:"hidden",margin:"0 0 30px 0"});a._speed=(a.$el.attr("data-speed"))?parseInt(a.$el.attr("data-speed"),10):a._speed;a._delay=(a.$el.attr("data-delay"))?parseInt(a.$el.attr("data-delay"),10)*1000:a._delay;a._fadeoutafter=(a.$el.attr("data-fadeafter"))?parseInt(a.$el.attr("data-fadeafter"),10)*1000:a._fadeoutafter;if(a.$el.attr("data-spacerwidth")){a.$el.find("span.spacer").css({width:a.$el.attr("data-spacerwidth"),display:"inline-block"})}a.$el.hover(function(){a.stop()},function(){a.start()});if(a._fadeoutafter>0){a.$el.delay(a._delay+a._fadeoutafter).fadeOut();setTimeout(a.stop,a._delay+a._fadeoutafter+2000)}setTimeout(a.start,a._delay)};this.start=function(){a._interval=setInterval(a.scroll,20)};this.stop=function(){clearInterval(a._interval)};this.reset=function(){a._speed=1};this.scroll=function(){a.$el.scrollLeft(a.$el.scrollLeft()+a._speed);if(a.scrollPosition()>=a.maxScroll()-1){a.$wrap.clone().appendTo(a.$el)}if(a.scrollPosition()>a.pageWidth()){a.$el.scrollLeft(0);a.$el.find(".marquee-wrapper").eq(1).remove()}};this.viewportWidth=function(){return a.$el.width()};this.pageWidth=function(){return a.$wrap.width()+a.$el.width()};this.scrollPosition=function(){return a.$el.scrollLeft()+a.$el.width()};this.maxScroll=function(){return a.$el.attr("scrollWidth")?typeof(a.$el.attr("scrollWidth"))!=="undefined":a.$el.prop("scrollWidth")}},EventCalendar:function(){this.root=null;this.showfilter=0;this.filterbackgroundcolor="#E7E7E7";this.hide_passed=0;this.venuelabel="Ort";this.genrelabel="Art";this.selalloption="Alle";this.rowcolor="silver";this.rowspacing="20px";var a=this;this.init=function(b){var e=$('script[src*="zp-widgets.js"]').attr("src");var d=e.substr(0,e.length-"zp-widgets.js".length);if(!$("link[href*='/ServerSideScripting/js/jqueryui/jquery-ui-1.8.19.custom.css']").length){if(!$('link[href*="/styles.css"]').length){$('<link rel="stylesheet" type="text/css" href="'+d+'jqueryui/jquery-ui-1.8.19.custom.css" media="screen" />').appendTo("head")}else{$('link[href*="/styles.css"]').after('<link rel="stylesheet" type="text/css" href="'+d+'jqueryui/jquery-ui-1.8.19.custom.css" media="screen" />')}}if(!($.ui)){if(!$('script[src*="zp-widgets.js"]').length){$('<script type="text/javascript" src="'+d+'jqueryui/jquery-ui-1.8.19.custom.min.js"></script>').appendTo("head");$('<script type="text/javascript" src="'+d+'jqueryui/i18n/jquery.ui.datepicker-de.js"></script>').appendTo("head")}else{$('script[src*="zp-widgets.js"]').after('<script type="text/javascript" src="'+d+'jqueryui/jquery-ui-1.8.19.custom.min.js"></script>');$('script[src*="zp-widgets.js"]').after('<script type="text/javascript" src="'+d+'jqueryui/i18n/jquery.ui.datepicker-de.js"></script>')}}a.root=b;a.showfilter=$(a.root).data("showfilter");if($(a.root).data("filterbackgroundcolor")!==""){a.filterbackgroundcolor=$(a.root).data("filterbackgroundcolor")}a.hide_passed=$(a.root).data("hide_passed");a.venuelabel=$(a.root).data("venuelabel");a.genrelabel=$(a.root).data("genrelabel");a.selalloption=$(a.root).data("selall");a.rowcolor=$(a.root).data("rowcolor");a.rowspacing=$(a.root).data("rowspace");if(a.hide_passed){var g=new Date().setHours(0,0,0,0);$(a.root+" .eventOverview div.event").each(function(){var j=$(this).data("evdate").split(".");var k=new Date(j[2],j[1]-1,j[0]);if(k<g){$(this).remove()}})}$(a.root+" .datepicker").datepicker({showButtonPanel:true,changeMonth:true,changeYear:true,currentText:"Heute",closeText:"Schließen"});$(a.root+" input#datefrom-filter, "+a.root+" input#dateto-filter, "+a.root+" #evvenue-filter, "+a.root+" #evgenre-filter").change(function(){a.filter();a.initselects()});$(a.root+" .resetfilters").click(function(){$(a.root+" .event").show();$(a.root+" select").children().remove();$(a.root+" input#datefrom-filter").val("");$(a.root+" input#dateto-filter").val("");$(a.root+" .eventOverview div.error").remove();a.initselects()});var c=document.getElementsByTagName("head")[0],i=document.createElement("style"),f=" \n				#ui-datepicker-div{z-index: 200 !important; background-color: #ffffff !important;}\n				div.eventOverview{\n				width: 100%;					margin: 0;					padding: 0;					border-collapse: collapse;				}				div.eventOverview div.event{					padding: 10px;					overflow: hidden;				}				div.eventOverview div.event div.eventdate {					width: 28%;					float: left;					font-weight: bolder;				}				div.eventOverview div.event div.eventinfo{					width: 67%;					float: right;				}				div.eventOverview div.event div.eventinfo a.title{					font-weight: bolder;				}				div.eventdetail h2{					font-family: #text(pagetitle-font-family);					margin: 0 0 #text(articlearea-spacing) 0;					padding: 0;					font-size: #text(pagetitle-font-size);					font-weight: #text(pagetitle-font-weight);					line-height: normal;					color: #text(pagetitle-font-color);				}				div.eventdetail .ecinfo{					font-weight: bold;				}				.eventCalendar div.filter button.resetfilters{					display: inline-block; margin-top: 1em;				}\n\n  "+a.root+" div.filter { 					padding: 10px; 					background-color: "+a.filterbackgroundcolor+"; 					overflow: hidden; 					-webkit-border-top-left-radius: 8px; 					-webkit-border-top-right-radius: 8px; 					-moz-border-radius-topleft: 8px; 					-moz-border-radius-topright: 8px; 					border-top-left-radius: 8px; 					border-top-right-radius: 8px; 				} 				"+a.root+" div.filteritem{ 					float: left; 					margin-right: 20px; 				} 				"+a.root+" div.filteritem select, div.filteritem input{ 					width: 120px; 				} 				"+a.root+" div.event { background-color: "+a.rowcolor+"; margin-bottom: "+a.rowspacing+"; }",h=document.createTextNode(f.replace(/\s+/g," "));i.type="text/css";if(i.styleSheet){i.styleSheet.cssText=h.nodeValue}else{i.appendChild(h)}c.appendChild(i);$(a.root+" .eventOverview div.event").sort(function(j,m){var k=$(j).attr("data-evdate").split(".");var l=$(m).attr("data-evdate").split(".");var n=new Date(k[2],k[1],k[0]),o=new Date(l[2],l[1],l[0]);return((n<o)?1:((n>o)?-1:0))}).each(function(){$(a.root+" .eventOverview").prepend(this)});$(a.root+" span.venuelabel").html(a.venuelabel+":");$(a.root+" span.genrelabel").html(a.genrelabel+":");if(a.showfilter!==1){$(a.root+" div.filter").hide()}a.initselects();a.filter()};this.filter=function(){$(a.root+" .eventOverview div.event").show();var b=a.root+" .eventOverview div.event";if($(a.root+" select#evvenue-filter").val()!==a.selalloption&&$(a.root+" select#evvenue-filter").is(":visible")){b+='[data-evvenue="'+$(a.root+" select#evvenue-filter").val().replace(/"/g,'\\"')+'"]'}if($(a.root+" select#evgenre-filter").val()!==a.selalloption&&$(a.root+" select#evgenre-filter").is(":visible")){b+='[data-evgenre="'+$(a.root+" select#evgenre-filter").val().replace(/"/g,'\\"')+'"]'}$(a.root+" .eventOverview div.event").hide();$(b).show();var c=new Date($(a.root+" input#datefrom-filter").val().split(".")[2],$(a.root+" input#datefrom-filter").val().split(".")[1]-1,$(a.root+" input#datefrom-filter").val().split(".")[0]);var d=new Date($(a.root+" input#dateto-filter").val().split(".")[2],$(a.root+" input#dateto-filter").val().split(".")[1]-1,$(a.root+" input#dateto-filter").val().split(".")[0]);$(a.root+" .eventOverview div.event").each(function(){var e=$(this).data("evdate").split(".");var f=new Date(e[2],e[1]-1,e[0]);if(f<c||f>d){$(this).hide()}});$(a.root+" .eventOverview div.error").remove();if($(a.root+" .eventOverview div.event:not(:hidden)").length<1){if(!a.hide_passed&&a.showfilter){$(a.root+" .eventOverview").append('<div class="error" style="padding: 10px; background: red; color:white; font-weight: bold; font-size: larger;">Es wurden keine Veranstaltungen gefunden.</div>')}else{$(a.root+" .eventOverview").append('<div class="error" style="background: transparent; color:inherit;">Keine</div>')}}};this.initselects=function(){if($(a.root+" .event:hidden").length===0){$(a.root+" .resetfilters").hide()}else{$(a.root+" .resetfilters").show()}a.populateSelect($(a.root+" #evvenue-filter"),$.grep($.unique($(a.root+" .event:not(:hidden)").map(function(){return $(this).data("evvenue")}).sort()),function(b){return(b)}),a.selalloption);a.populateSelect($(a.root+" #evgenre-filter"),$.grep($.unique($(a.root+" .event:not(:hidden)").map(function(){return $(this).data("evgenre")}).sort()),function(b){return(b)}),a.selalloption)};this.populateSelect=function(b,d,c){var e=$(b).val();if(d.length>0){b.children().remove();b.append("<option>"+c+"</option>");$.each(d,function(){if(this==e){b.append('<option selected="selected">'+this+"</option>")}else{b.append("<option>"+this+"</option>")}})}if(d.length<1){if($(a.root+" .event:hidden").length===0){$(b).parent().css("display","none")}}else{if(d.length<2){$(b).parent().css("font-style","italic");$(b).parent().css("display","")}else{$(b).parent().css("font-style","");$(b).parent().css("display","")}}}},ImageGallery:function(){this.root=null;this.numbershow=true;this.titleshow=false;this.kind="gallery";this.width=200;this.height=150;this.bordercolor="silver";this.borderwidth=0;this.margin=10;this.overlaycolor="black";this.titleposition="over";this.transition="elastic";this.slideshow=false;this.slideshowinterval=5000;this.slideshowtimer=0;this.lang="de";var a=this;this.init=function(b){var g=$('script[src*="zp-widgets.js"]').attr("src");var e=g.substr(0,g.length-"zp-widgets.js".length);if(!$("link[href*='/ServerSideScripting/js/fancybox/jquery.fancybox-1.3.4.css']").length){var d=document.getElementsByTagName("head")[0];var f=document.createElement("link");f.type="text/css";f.rel="stylesheet";f.href=e+"fancybox/jquery.fancybox-1.3.4.css?v=1201";d.appendChild(f)}if(!($.fancybox)){if(!$('script[src*="zp-widgets.js"]').length){$('<script type="text/javascript" src="'+e+'fancybox/jquery.fancybox-1.3.4_easing-1.3.pack.js"></script>').appendTo("head")}else{$('script[src*="zp-widgets.js"]').after('<script type="text/javascript" src="'+e+'fancybox/jquery.fancybox-1.3.4_easing-1.3.pack.js"></script>')}}a.root=b;a.numbershow=$(a.root).data("numbershow")!==0?true:false;a.titleshow=$(a.root).data("titleshow")!==0?true:false;a.kind=$(a.root).data("kind");a.width=$(a.root).data("width");if(parseInt(a.width)){a.width=a.width+"px"}a.height=$(a.root).data("height");if(parseInt(a.height)){a.height=a.height+"px"}a.bordercolor=$(a.root).data("bordercolor");a.borderwidth=$(a.root).data("borderwidth");a.margin=$(a.root).data("margin");a.titleposition=$(a.root).data("titleposition");a.zoom=$(a.root).data("transition");a.transition=$(a.root).data("inner-transition");if(a.transition==="none"){a.changeFade=0}else{a.changeFade=100}a.slideshow=$(a.root).data("slideshow")!==0?true:false;a.slideshowinterval=$(a.root).data("slideshowinterval")*1000;a.slideshowtimer=0;a.lang=$(a.root).data("lang");$(a.root+" .fancybox").fancybox({cyclic:true,changeSpeed:0,changeFade:a.changeFade,speedIn:300,speedOut:300,transitionIn:a.zoom,transitionOut:a.zoom,easingIn:"easeOutCubic",easingOut:"easeInCubic",titleShow:a.titleshow,overlayColor:a.overlaycolor,titlePosition:a.titleposition,titleFormat:function(m,k,l){if(k.length>1&&a.numbershow){if(a.lang==="en"){return'<span id="fancybox-title-over">Image '+(l+1)+" of "+k.length+(m?": "+m:"")+"</span>"}else{return'<span id="fancybox-title-over">Bild '+(l+1)+" von "+k.length+(m?": "+m:"")+"</span>"}}else{return'<span id="fancybox-title-over">'+m+"</span>"}},onComplete:function(){if(a.slideshow){a.slideshowtimer=setInterval($.fancybox.next,a.slideshowinterval)}},onCleanup:function(){if(a.slideshow){clearInterval(a.slideshowtimer)}}});var c=document.getElementsByTagName("head")[0],j=document.createElement("style"),h="	"+a.root+"{overflow: hidden;";if(a.kind==="singleimageleft"){h+=" width: "+a.width+"; min-height: "+a.height+"; float: left; margin-right: 20px; margin-bottom: 5px;"}else{if(a.kind==="singleimageright"){h+=" width: "+a.width+"; min-height: "+a.height+"; float: right; margin-left: 20px; margin-bottom: 5px;"}else{if(a.kind==="singleimagecenter"){h+=" width: "+a.width+"; float: none !important; margin: 0 auto 5px auto;"}else{if(a.kind==="singleimage"){h+=" width: "+a.width+"; float: none !important; margin-bottom: 5px;"}else{if(a.kind==="singleimager"){h+=" width: "+a.width+"; float: none !important; margin: 0 0 5px auto;"}}}}}h+="}";h+=a.root+" a { 					width: "+a.width+"; 					height: "+a.height+"; 					margin: 0 "+a.margin+"px "+a.margin+"px 0; ";if(a.bordercolor=="default"){h+=""}else{if(a.bordercolor!=="transparent"){h+="	border: "+a.borderwidth+"px solid "+a.bordercolor+"; box-sizing: border-box;"}else{h+="	border: none ;"}}h+="		padding: 0px; 					display: block; 					text-align: center; 					vertical-align: middle; 					float: left; 					overflow: hidden; 				}";h+=a.root+" a img { 					border: none !important;}";var i=document.createTextNode(h.replace(/\s+/g," "));j.type="text/css";if(j.styleSheet){j.styleSheet.cssText=i.nodeValue}else{j.appendChild(i)}c.appendChild(j)}},Slideshow:function(){this.root=null;this.slideshowinterval=5000;this.pauseonhover=true;var a=this;this.init=function(b){a.root=b;a.slideshowinterval=$(a.root).data("slideshowinterval")*1000;a.pauseonhover=$(a.root).data("pauseonhover")!==0?true:false;$(b+" div.slide:not(:first)").css("opacity","0");a.slideshow=setInterval(function(){slideSwitch(b)},a.slideshowinterval);$(a.root).hover(function(){if(a.pauseonhover){clearInterval(a.slideshow)}$(document).keydown(function(c){if(c.which===37){slideSwitch(b,"prev")}else{if(c.which===39){slideSwitch(b,"next")}}})},function(){$(document).unbind("keydown");if(a.pauseonhover){a.slideshow=setInterval(function(){slideSwitch(b)},a.slideshowinterval)}})}},Weather:function(){this.root=null;this.woeid=0;this.temp="c";this.color="#ffffff";var a=this;this.init=function(b){a.root=b;a.woeid=$(a.root).data("woeid");a.temp=$(a.root).data("temp");a.color=$(a.root).css("color");var c="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%3D%22"+a.woeid+"%22%20and%20u%3D%22"+a.temp+"%22&format=json";$.ajax({type:"GET",url:c,dataType:"jsonp",cache:true,contentType:"application/json",success:function(d){var e=d.query.results.channel;$(a.root).attr("title","Das Wetter in "+e.location.city+", "+e.location.country);$(a.root+" #weatherIcon").css({"background-image":"url(http://l.yimg.com/a/i/us/nws/weather/gr/"+e.item.condition.code+"d.png)","background-repeat":"no-repeat"});$(a.root+" #weatherTemp").html('<span class="temp" style="font-size: 200%;">'+e.item.condition.temp+"&deg;"+e.units.temperature+"</span><br />"+e.item.forecast[0].low+"&deg;C – "+e.item.forecast[0].high+"&deg;C");$(a.root+" #weatherToday").html("Heute<br />"+e.item.forecast[0].low+"&deg;"+e.units.temperature+" – "+e.item.forecast[0].high+"&deg;"+e.units.temperature+'<br /><img style="margin: 0; padding: 0; border: none; background: transparent;" width="100" src="http://l.yimg.com/a/i/us/nws/weather/gr/'+e.item.forecast[0].code+'d.png" />');$(a.root+" #weatherTomorrow").html("Morgen<br />"+e.item.forecast[1].low+"&deg;"+e.units.temperature+" – "+e.item.forecast[1].high+"&deg;"+e.units.temperature+'<br /><img style="margin: 0; padding: 0; border: none; background: transparent;"width="100" src="http://l.yimg.com/a/i/us/nws/weather/gr/'+e.item.forecast[1].code+'d.png" />');$(a.root+" #weatherAttribution").html('<a target="_new" href="'+e.image.link+'" style="text-decoration: none; color: '+a.color+';">'+e.image.title+"</a>")},error:function(f,e,d){trace(f.status+" "+e+" "+d)},async:false})}}};